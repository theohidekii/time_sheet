# Time Sheet - Intelligent Timekeeping Management

Time Sheet is a web-based application designed to parse, analyze, and manage employee attendance records based on the Brazilian **AFD (Arquivo Fonte de Dados)** standard. It provides a modern interface to visualize time clocks, calculate overtime/lateness, and manage "Bank of Hours" (Banco de Horas) for a 44-hour weekly schedule.

## üöÄ Key Features

### 1. AFD File Parsing
- **Import:** Supports `.txt` or `.rep` files generated by digital time clock terminals (REP).
- **Data Extraction:** Automatically extracts employee details (Name, PIS) and timestamps.
- **Deduplication:** Handles duplicate entries and maps employees with multiple PIS numbers.

### 2. Time Calculation Logic (44-Hour Week)
The system is optimized for the standard Brazilian 44-hour work week.
- **Daily Target:** By default, Monday to Friday has a target of **08:48** (8.8 hours). This ensures that 5 days * 8h48m = 44 hours.
- **Saturdays/Sundays:** By default, the expected working time is **00:00**. Any time worked on weekends counts entirely as positive balance.
- **Bank of Hours (Saldo):** Instead of simple overtime, the system calculates a daily "Net Balance":
  - *Positive:* Worked more than 09:00.
  - *Negative:* Worked less than 09:00.
  - This allows for the "Compensated Saturday" model (working extra M-F to skip Saturday).

### 3. Attendance Management
- **Dashboard:** Select a date range to view records.
- **Employee Search:** Filter employees by name or PIS.
- **Manual Adjustments:** 
  - Edit existing time entries.
  - Add manual punches for missed clocks.
- **Justifications:** 
  - Mark days as **"Atestado"** (Medical Certificate) to waive absences and zero out the balance for that day.
- **Visual Indicators:**
  - üü¢ Green text for positive balance.
  - üî¥ Red text for negative balance/lateness.
  - ‚ö†Ô∏è Alerts for inconsistencies (odd number of punches, missing lunch break).

### 4. Excel Export
Generates a comprehensive `.xlsx` report containing:
- **General Summary:** Total days worked, total hours accumulated, total bank of hours balance, and occurrence count per employee.
- **Individual Sheets:** Detailed daily report for every employee within the selected period.

### 5. Configuration
- **Global Settings:** Set default entry/exit times, lunch duration, and tolerance limits.
- **Individual Overrides:** Configure specific schedules for individual employees (e.g., if one employee works 08:00 daily instead of 08:48).

## üõ†Ô∏è Technical Stack

- **Frontend:** React 18 (TypeScript)
- **Styling:** Tailwind CSS
- **Icons:** Lucide React
- **File Processing:** Custom RegEx parser for AFD standard layout.
- **Excel Generation:** SheetJS (xlsx)

## üì¶ How to Use

1. **Upload File:** Click on "Importar AFD" and select your time clock file (`.txt`).
2. **Select Period:** Choose the `Start Date` and `End Date` in the sidebar.
3. **Analyze:** The system will automatically process the days.
4. **Edit/Verify:** 
   - Click on an employee to view their sheet.
   - Edit times if necessary.
   - Click the "Document" icon on a row to toggle "Atestado" (Medical Certificate).
5. **Export:** Click "Exportar Relat√≥rio" to download the Excel spreadsheet.

## ‚öôÔ∏è Default Configuration

- **Entry:** 08:00
- **Exit:** 17:48
- **Lunch:** 12:00 to 13:00
- **Daily Target:** 08:48 (Monday-Friday)
- **Tolerance:** 10 minutes (for lateness)

## üìù License

This project is for internal use and attendance management optimization.
